{{! Biography Tab }}

<section
  class='tab biography {{tab.cssClass}}'
  data-group='primary'
  data-tab='biography'
>
  {{#if (eq actor.type 'player')}}
  <label class='biography-label' for="system.playerName">{{localize "LORE.Actor.Player.FIELDS.PlayerName.label"}}</label>
  <input class='biography-input' type="text" name="system.playerName" value="{{system.playerName}}" {{#unless editable}}disabled{{/unless}}>
  {{/if}}

  <label class='biography-label'>{{localize "LORE.Actor.base.FIELDS.Ancestry.label"}}</label>
  <div class="biography-input ancestry-slot" data-drop="ancestry">
    {{#if equipped.ancestry}}
      <ul class="ancestry-list">
        <li class="ancestry-item" data-document-class="Item" data-item-id="{{equipped.ancestry.id}}" data-drag>
          <span class="ancestry-name">
            <a href="#" data-action="viewDoc">{{equipped.ancestry.name}}</a>
          </span>
          {{#if editable}}
            <button type="button" class="ancestry-clear" data-action="clear-ancestry" title="{{localize "LORE.Common.Clear"}}">
              <i class="fas fa-trash" aria-hidden="true"></i>
            </button>
          {{/if}}
        </li>
      </ul>
    {{else}}
      <div class="ancestry-empty">{{localize "LORE.Actor.base.FIELDS.Ancestry.empty"}}</div>
    {{/if}}
  </div>

  <div class="grid grid-4col">
    {{#if bioVisibility.gender}}
    <div>
      <label class='biography-label' for="system.gender">{{localize "LORE.Actor.base.FIELDS.Gender.label"}}</label>
      <input class='biography-input' type="text" name="system.gender" value="{{system.gender}}" {{#unless editable}}disabled{{/unless}}>
    </div>
    {{/if}}
    {{#if bioVisibility.age}}
    <div>
      <label class='biography-label' for="system.age">{{localize "LORE.Actor.base.FIELDS.Age.label"}}</label>
      <input class='biography-input' type="text" name="system.age" value="{{system.age}}" {{#unless editable}}disabled{{/unless}}>
    </div>
    {{/if}}
    {{#if bioVisibility.height}}
    <div>
      <label class='biography-label' for="system.height">{{localize "LORE.Actor.base.FIELDS.Height.label"}}</label>
      <input class='biography-input' type="text" name="system.height" value="{{system.height}}" {{#unless editable}}disabled{{/unless}}>
    </div>
    {{/if}}
    {{#if bioVisibility.weight}}
    <div>
      <label class='biography-label' for="system.weight">{{localize "LORE.Actor.base.FIELDS.Weight.label"}}</label>
      <input class='biography-input' type="text" name="system.weight" value="{{system.weight}}" {{#unless editable}}disabled{{/unless}}>
    </div>
    {{/if}}
  </div>

  <label class='biography-label' for="system.biography">{{localize "LORE.Actor.base.FIELDS.biography.label"}}</label>

  {{! Editors must receive enriched text data from getData to properly handle rolls, UUID links, etc. }}
  {{#if editable}} 
    <prose-mirror name="system.biography" data-document-u-u-i-d="{{actor.uuid}}" value="{{system.biography}}" collaborate="true" toggled="true" class='biography-content'>
      {{{enrichedBiography}}}
    </prose-mirror>
  {{else}} {{{enrichedBiography}}}
  {{/if}}
</section>